(function(f){"function"===typeof define&&define.amd?define(["jquery"],f):"undefined"!==typeof module&&null!==module&&module.exports?module.exports=f:f(jQuery)})(function(f,l){function F(a){function b(a){d?(c(),G(b),h=!0,d=!1):h=!1}var c=a,d=!1,h=!1;this.kick=function(a){d=!0;h||b()};this.end=function(a){var b=c;a&&(h?(c=d?function(){b();a()}:a,d=!0):a())}}function H(){return!0}function n(){return!1}function I(a){a.preventDefault()}function J(a){p[a.target.tagName.toLowerCase()]||a.preventDefault()}
function m(a,b){var c,d;if(a.identifiedTouch)return a.identifiedTouch(b);c=-1;for(d=a.length;++c<d;)if(a[c].identifier===b)return a[c]}function q(a,b){var c=m(a.changedTouches,b.identifier);if(c&&(c.pageX!==b.pageX||c.pageY!==b.pageY))return c}function r(a){t(a,a.data,a,u)}function v(a){u()}function u(){g(document,k.move,r);g(document,k.cancel,v)}function w(a){var b=a.data,c=q(a,b);c&&t(a,b,c,x)}function y(a){var b=a.data;m(a.changedTouches,b.identifier)&&x(b.identifier)}function x(a){g(document,
"."+a,w);g(document,"."+a,y)}function t(a,b,c,d){var h=c.pageX-b.startX,f=c.pageY-b.startY;36>h*h+f*f||K(a,b,c,h,f,d)}function L(){this._handled=H;return!1}function z(a){a._handled()}function K(a,b,c,d,h,g){var e,k;e=a.targetTouches;k=a.timeStamp-b.timeStamp;b.type="movestart";b.distX=d;b.distY=h;b.deltaX=d;b.deltaY=h;b.pageX=c.pageX;b.pageY=c.pageY;b.velocityX=d/k;b.velocityY=h/k;b.targetTouches=e;b.finger=e?e.length:1;b._handled=L;b._preventTouchmoveDefault=function(){a.preventDefault()};f.event.trigger(b,
void 0,b.target);g(b.identifier)}function A(a){var b=a.data.timer;a.data.touch=a;a.data.timeStamp=a.timeStamp;b.kick()}function B(a){var b=a.data.event;a=a.data.timer;g(document,k.move,A);g(document,k.end,B);C(b,a,function(){setTimeout(function(){g(b.target,"click",n)},0)})}function D(a){var b=a.data.event,c=a.data.timer,d=q(a,b);d&&(a.preventDefault(),b.targetTouches=a.targetTouches,a.data.touch=d,a.data.timeStamp=a.timeStamp,c.kick())}function E(a){var b=a.data.event,c=a.data.timer;m(a.changedTouches,
b.identifier)&&(g(document,"."+b.identifier,D),g(document,"."+b.identifier,E),C(b,c))}function C(a,b,c){b.end(function(){a.type="moveend";f.event.trigger(a,void 0,a.target);return c&&c()})}var e=f.event.add,g=f.event.remove,G=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a,b){return window.setTimeout(function(){a()},25)}}(),p={textarea:!0,input:!0,select:!0,
button:!0},k={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"};f.event.special.movestart={setup:function(a,b,c){e(this,"movestart.move",z);return!0},teardown:function(a){g(this,"dragstart drag",I);g(this,"mousedown touchstart",J);g(this,"movestart",z);return!0},add:function(a){},remove:function(a){"move"!==a.namespace&&"moveend"!==a.namespace&&(g(this,"dragstart."+a.guid+" drag."+a.guid),g(this,"mousedown."+a.guid))},_default:function(a){function b(b){b=c;var e=d.touch,g=d.timeStamp-b.timeStamp;
b.type="move";b.distX=e.pageX-b.startX;b.distY=e.pageY-b.startY;b.deltaX=e.pageX-b.pageX;b.deltaY=e.pageY-b.pageY;b.velocityX=.3*b.velocityX+.7*b.deltaX/g;b.velocityY=.3*b.velocityY+.7*b.deltaY/g;b.pageX=e.pageX;b.pageY=e.pageY;f.event.trigger(c,void 0,a.target)}var c,d;a._handled()&&(c={target:a.target,startX:a.startX,startY:a.startY,pageX:a.pageX,pageY:a.pageY,distX:a.distX,distY:a.distY,deltaX:a.deltaX,deltaY:a.deltaY,velocityX:a.velocityX,velocityY:a.velocityY,timeStamp:a.timeStamp,identifier:a.identifier,
targetTouches:a.targetTouches,finger:a.finger},d={event:c,timer:new F(b),touch:l,timeStamp:l},a.identifier===l?(e(a.target,"click",n),e(document,k.move,A,d),e(document,k.end,B,d)):(a._preventTouchmoveDefault(),e(document,"touchmove."+a.identifier,D,d),e(document,"touchend."+a.identifier,E,d)))}};f.event.special.move={setup:function(){e(this,"movestart.move",f.noop)},teardown:function(){g(this,"movestart.move",f.noop)}};f.event.special.moveend={setup:function(){e(this,"movestart.moveend",f.noop)},
teardown:function(){g(this,"movestart.moveend",f.noop)}};e(document,"mousedown.move",function(a){1!==a.which||a.ctrlKey||a.altKey||(a={target:a.target,startX:a.pageX,startY:a.pageY,timeStamp:a.timeStamp},e(document,k.move,r,a),e(document,k.cancel,v,a))});e(document,"touchstart.move",function(a){var b;p[a.target.tagName.toLowerCase()]||(b=a.changedTouches[0],a={target:b.target,startX:b.pageX,startY:b.pageY,timeStamp:a.timeStamp,identifier:b.identifier},e(document,"touchmove."+b.identifier,w,a),e(document,
"touchend."+b.identifier,y,a))});"function"===typeof Array.prototype.indexOf&&function(a,b){for(var c=["changedTouches","targetTouches"],d=c.length;d--;)-1===a.event.props.indexOf(c[d])&&a.event.props.push(c[d])}(f)});
